{"openapi": "3.0.0", "info": {"title": "Currency Watchlist API", "description": "API para gerenciar uma watchlist de moedas com SQLite", "version": "1.0.0"}, "paths": {"/currencies": {"get": {"summary": "Lista todas as moedas", "responses": {"200": {"description": "Lista de moedas ou mensagem se vazia", "content": {"application/json": {"schema": {"oneOf": [{"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string"}, "name": {"type": "string"}, "rate": {"type": "number", "nullable": true}, "updated_at": {"type": "string", "format": "date-time", "nullable": true}}}}, {"type": "object", "properties": {"message": {"type": "string", "example": "Nenhuma moeda na lista"}}}]}}}}}}, "post": {"summary": "Adiciona uma nova moeda", "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"code": {"type": "string", "example": "USD"}}, "required": ["code"]}}}}, "responses": {"201": {"description": "Moeda adicionada"}, "400": {"description": "Dados inv\u00e1lidos"}, "409": {"description": "Moeda j\u00e1 existe"}}}}, "/currencies/{code}": {"put": {"summary": "Atualiza a taxa e o hor\u00e1rio de uma moeda", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string"}, "example": "USD"}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "properties": {"rate": {"type": "number", "example": 5.5}}, "required": ["rate"]}}}}, "responses": {"200": {"description": "Moeda atualizada"}, "400": {"description": "Dados inv\u00e1lidos"}, "404": {"description": "Moeda n\u00e3o encontrada"}}}, "delete": {"summary": "Remove uma moeda", "parameters": [{"name": "code", "in": "path", "required": true, "schema": {"type": "string"}, "example": "USD"}], "responses": {"200": {"description": "Moeda removida"}, "400": {"description": "C\u00f3digo inv\u00e1lido"}, "404": {"description": "Moeda n\u00e3o encontrada"}}}}, "/allowed-currencies": {"get": {"summary": "Lista todas as moedas permitidas", "responses": {"200": {"description": "Lista de moedas permitidas", "content": {"application/json": {"schema": {"type": "array", "items": {"type": "object", "properties": {"code": {"type": "string", "example": "USD"}, "name": {"type": "string", "example": "D\u00f3lar Americano"}}}}}}}}}}}}